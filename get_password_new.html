<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>找回密码</title>
<link rel="stylesheet" type="text/css" href="static/css/get_password_new.css">
<script src="static/js/jQ.js" language="JavaScript"></script>
<script src="static/js/public1.js" language="JavaScript"></script>
<script type="text/javascript">
    $(function(){
        $(".crm_main input:text").each(function(){
            var t = $(this),
                t_alt = t.attr("date-alt"),
                t_val = t.val();
            if(t_alt == t_val){
                t.css("color","#888");
            }
        })
        $(".crm_main input:text").focus(function(){
            var t = $(this),
                t_alt = t.attr("date-alt"),
                t_val = t.val();
            if(t_val == "" || t_val == t_alt){
                t.val("").css("color","#606060");;
            }
        })
        $(".crm_main input:text").blur(function(){
            var t = $(this),
                t_alt = t.attr("date-alt"),
                t_val = t.val();
            if(t_val == "" || t_val == t_alt){
                t.val(t_alt).css("color","#888");
            }
        })
    })
</script>
</head>
<body style="font-size:16px;">
    <div class="crm_main">
        <div class="crm_center back_pwd_bg">
            <div class="crm_margin">
                <div class="back_pwd_info">
                    <dl>
                    <form action="#" enctype="multipart/form-data" method="post" name="form1" id="form1" onsubmit="return false;">
                        <dt class="clearfix"><span class="iphone_back">通过邮箱找回密码</span></dt>
                        <dd class="clearfix">
                            <input type="text" class="in_text" name="username" id="username" onblur="userName(this.value)" value="请输入用户名" date-alt="请输入用户名">
                        </dd>
                        <dd class="clearfix">
                            <input type="text" class="in_text" name="mail" id="mail" onblur="CheckMail(this.value)" value="请输入注册邮箱" date-alt="请输入注册邮箱">
                        </dd>
                        <dd class="clearfix yz_list">
                            <input type="text" class="in_yz" name="validatecode" id="validatecode" value="请输入右方验证码" date-alt="请输入右方验证码">
                            <span class="yz_img">
                                <a href="javascript:void(0)" onclick="refreshCaptcha()" title="点击换一张"><img src="static/picture/captcha.jpg" id="vcodesrc" name="vcodesrc" border="0" width="116" height="38" alt="点击换一张"></a>
                            </span>
                            <a href="javascript:void(0)" onclick="refreshCaptcha()">换一张</a>
                        </dd>
                        <dd class="clearfix submit_btn">
                            <input name="on_submit" id="on_submit" type="hidden" value="0">
                            <a href="javascript:void(0)" onclick="sub_form()">提交</a>
                        </dd>
                    </form>
                        <script type="text/javascript">
                            function refreshCaptcha(){
                                var img = document.getElementById('vcodesrc');
                                img.src = 'static/picture/captcha.jpg?t=' + Math.random();
                            }
                            function CheckMail(mail) {
                             var mail = $.trim(mail);
                             var filter  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                             if (filter.test(mail)) return true;
                             else {
                             alert('您的电子邮件格式不正确');
                             return false;}
                            }
                            function userName(value){
                             var value = $.trim(value);
                             var strExp=/^[0-9a-zA-Z_]{4,20}$/;
                            if(strExp.test(value)){
                                       return true;
                                }else{
                                    alert('用户名格式不正确');
                                    return false;
                                }
                            }
                            function sub_form(){
                                var username = $("#username").val();
                                var mail = $("#mail").val();
                                var validatecode = $("#validatecode").val();
                                if(username == '' || username== '请输入用户名'){
                                    alert("请输入您的用户名！");
                                    return false;
                                }else{
                                    var strExp=/^[A-Za-z0-9_]*$/;
                                    if(strExp.test(username)){
                                    }else{
                                        alert('用户名格式不正确');
                                        return false;
                                    }
                                }
                                if(mail=='' || mail == '请输入注册邮箱'){
                                    alert('请输入您的注册邮箱！');
                                    return false;
                                }else{
                                    var filter  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                                    if (filter.test(mail)){
                                    } else {
                                        alert('您的电子邮件格式不正确');
                                        return false;
                                    }
                                }
                                if(validatecode=='' || validatecode=='请输入右方验证码'){
                                    alert('请输入验证码！');
                                    return false;
                                }
                                alert('找回密码功能需要后端服务支持，当前为静态展示页面。');
                                return false;
                            }
                        </script>
                    </dl>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
